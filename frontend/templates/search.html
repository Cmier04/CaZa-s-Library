{% extends 'base.html' %}
{% block title %}Search - CaZa's Library{% endblock %}

{% block content %}
<div class="container">
  <h1>Search the Catalog</h1>

  <form method="POST" action="/search" method="get" class="search-bar">
    <input type="text" placeholder="Search Books" id="search-query">
    <select class="sort-by">
      <option value="author">Author Last Name (A-Z)</option>
      <option value="genre">Genre</option>
      <option value="title">Title (A-Z)</option>
      </select>
    <button id="search-btn">Search</button>
  </form>

  <div class="book-list">
    {% if books %}
     {% for book in books %}
      <div class="book">
        <h3>{{ book.title }}</h3>
        <p><strong>Author:</strong> {{ book.author }}</p>
        <p><strong>ISBN:</strong> {{ book.isbn }}</p>
        <p><strong>Status:</strong> {{book.rent_status|capitalize }}</p>
      <button id="rent-book-{{ loop.index }}">Checkout</button>
    </div>
    {% endfor %}
   {% else %}
     <p>No books found.</p>
   {% endif %}
  </div>
</div>

{% endblock %}